"use strict";var tipExpert=angular.module("tipExpert",["tipExpert.home"]);tipExpert.config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(e,t,r,l){var o=userConfig.accessLevels,s={header:{templateUrl:"/modules/home/views/header.html",controller:"navigationController"},main:{template:"<ui-view/>"}};e.state("user",{url:"/user",views:s,"abstract":!0}).state("user.overview",{title:"Users",url:"",templateUrl:"/modules/user/views/user.html",controller:"userController",access:o.user}).state("user.profile",{title:"User profile",url:"/:userId",templateUrl:"/modules/user/views/profile.html",controller:"userProfileController",access:o.user}).state("matches",{url:"/matches",views:s,"abstract":!0}).state("matches.overview",{title:"Matches",url:"",templateUrl:"/modules/match/views/matches.html",controller:"matchController",access:o.admin}).state("matches.finished",{title:"Not implemented yet!",url:"/finished",templateUrl:"todo",controller:"finishedMatchesController",access:o.admin}).state("games",{url:"/games",views:s,"abstract":!0}).state("games.overview",{title:"Games",url:"",templateUrl:"/modules/game/views/myGames.html",controller:"myGamesController",access:o.user}).state("games.history",{title:"Games History",url:"/history",templateUrl:"/modules/game/views/gamesHistory.html",controller:"gamesHistoryController",access:o.user}).state("games.create",{title:"Create game",url:"/create",templateUrl:"/modules/game/views/editGame.html",controller:"editGameController",access:o.user}).state("games.edit",{title:"Edit game",url:"/:gameId/edit",templateUrl:"/modules/game/views/editGame.html",controller:"editGameController",access:o.user}).state("games.show",{title:"Game",url:"/:gameId",templateUrl:"/modules/game/views/game.html",controller:"gameController",access:o.user}).state("home",{title:"Home",url:"/",views:{header:{templateUrl:"/modules/home/views/loginHeader.html",controller:"navigationController"},main:{templateUrl:"/modules/home/views/index.html",controller:"homeController"}},access:o["public"]}),r.html5Mode({enabled:!0,requireBase:!1}),l.interceptors.push(["$q","$location",function(e,t){return{responseError:function(r){return 401===r.status||403===r.status?(t.path("/"),e.reject(r)):e.reject(r)}}}])}]),tipExpert.config(["$translateProvider",function(e){e.fallbackLanguage("en").registerAvailableLanguageKeys(["en","de"],{en_US:"en",en_UK:"en",de_DE:"de",de_CH:"de",de_AT:"de"}),e.useCookieStorage(),e.determinePreferredLanguage();var t=window.location.origin||window.location.protocol+"//"+window.location.host;e.useStaticFilesLoader({prefix:t+"/locales/",suffix:".json"})}]),tipExpert.run(["$rootScope","$location","$state","Auth","alertService",function(e,t,r,l,o){e.$state=r,e.$on("$stateChangeStart",function(e,t,s,a,i){var m=l.user.isLoggedIn;l.authorize(t.access)?"home"==t.name&&m&&(e.preventDefault(),r.go("games.overview")):(e.preventDefault(),m?(a.controller||r.go("games.overview"),o.error("You are not allowed to access this page")):r.go("home"))})}]);